import{r as s,l as _,o as E,m as N,p as $,h as z,c as i,g as n,b as a,a as y,F as M,i as W,q as h,j as q,d as D,w as F,s as S,v as U,T as j}from"./index-CGKdMnqv.js";import{i as H}from"./ChungShan-AvXeID_a.js";const A=[{title:"全部",value:0},{title:"消除貧窮",value:1},{title:"終結飢餓",value:2},{title:"健康與福祉",value:3},{title:"優質教育",value:4},{title:"性別平等",value:5},{title:"淨水與衛生",value:6},{title:"可負擔的<br/>永續能源",value:7},{title:"就業與<br/>經濟成長",value:8},{title:"永續工業<br/>與基礎建設",value:9},{title:"消弭<br/>不平等",value:10},{title:"永續城鄉",value:11},{title:"責任消費<br/>與生產",value:12},{title:"氣候行動",value:13},{title:"永續海洋<br/>與保育",value:14},{title:"陸域生態",value:15},{title:"制度的正義<br/>與和平",value:16},{title:"永續發展<br/>夥伴關係",value:17}],I=["onClick","innerHTML"],G={key:0,class:"relative group flex-shrink-0"},J={class:"absolute top-7 left-1 bg-white shadow rounded hidden group-hover:block"},K=["onClick","innerHTML"],R={__name:"HeaderTabs",emits:["update:visibilityTab","update:keyword"],setup(O,{emit:V}){const b=s(A),o=s(b.value[0].value),v=s(!1),r=s(""),d=s(null),m=s(null),g=s([]),w=s([]),T=V;_(o,l=>{T("update:visibilityTab",l)}),_(r,l=>{T("update:keyword",l)});const k=()=>{if(!d.value||!m.value)return;const l=d.value.parentNode;if(!l)return;const e=l.clientWidth-m.value.offsetWidth-20,t=350;let u=0;const c=[],f=[],C=d.value.querySelectorAll("li:not(.relative)");if(C.forEach((p,B)=>{const x=b.value[B];if(!x)return;const L=p.offsetWidth;u+L<e-t?(u+=L,c.push(x)):f.push(x)}),f.length===1){const p=C[c.length];p&&u+p.offsetWidth<e&&c.push(f.shift())}g.value=c,w.value=f};return E(()=>{g.value=[...b.value],N(()=>{k(),window.addEventListener("resize",k)})}),$(()=>{window.removeEventListener("resize",k)}),z(()=>{let l=H;return o.value!==0&&(l=H.filter(e=>e.type*1===o.value)),r.value.trim()!==""&&(l=l.filter(e=>e.title.toLowerCase().includes(r.value.trim().toLowerCase()))),l}),(l,e)=>(n(),i("div",null,[a("ul",{ref_key:"tabContainer",ref:d,class:"w-full flex flex-row items-center gap-5 h-10 flex-grow text-xl"},[(n(!0),i(M,null,W(g.value,t=>(n(),i("li",{key:t.value,class:"flex-shrink-0 h-full flex items-center"},[a("a",{href:"",class:q([{active:o.value===t.value},"hover:bg-green-200 rounded p-2 px-3 whitespace-nowrap"]),onClick:h(u=>o.value=t.value,["prevent"]),innerHTML:t.title},null,10,I)]))),128)),w.value.length?(n(),i("li",G,[a("a",{href:"#",onClick:e[0]||(e[0]=h(()=>{},["prevent"])),class:"h-full cursor-pointer hover:bg-green-200 rounded p-2 px-3"},"更多 ▾"),a("ul",J,[(n(!0),i(M,null,W(w.value,t=>(n(),i("li",{key:t.value},[a("a",{href:"",class:"block px-4 py-2 bg-gray-100 hover:bg-green-200 whitespace-nowrap rounded",onClick:h(u=>o.value=t.value,["prevent"]),innerHTML:t.title},null,8,K)]))),128))])])):y("",!0)],512),a("div",{ref_key:"rightTools",ref:m,class:"relative flex items-center"},[a("button",{onClick:e[1]||(e[1]=t=>v.value=!v.value),class:"p-2"},[...e[4]||(e[4]=[a("i",{class:"fa-solid fa-magnifying-glass text-2xl"},null,-1)])]),D(j,{name:"fade"},{default:F(()=>[v.value?S((n(),i("input",{key:0,"onUpdate:modelValue":e[2]||(e[2]=t=>r.value=t),type:"text",placeholder:"搜尋...",class:"border rounded px-3 py-1 focus:outline-none focus:ring-2 focus:ring-blue-400 transition w-40"},null,512)),[[U,r.value]]):y("",!0)]),_:1}),v.value&r.value.length?(n(),i("a",{key:0,href:"#",class:"absolute right-2",onClick:e[3]||(e[3]=h(t=>r.value="",["prevent"]))},[...e[5]||(e[5]=[a("i",{class:"fa-solid fa-xmark text-gray-400"},null,-1)])])):y("",!0)],512)]))}};export{R as _,A as t};
