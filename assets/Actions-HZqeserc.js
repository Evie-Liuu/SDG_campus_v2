import{_ as I,t as L}from"./HeaderTabs-BTXV9Dkm.js";import{r as p,h as m,c as r,b as e,d as b,w as S,e as f,f as V,F as v,i as _,t as a,g as i,n as z,j as B,u as N}from"./index-DEzY-Td3.js";import"./ChungShan-AvXeID_a.js";const h=[{id:1,title:"剩食問題",group:"一年忠班",startTime:"1746028800",endTime:"1753977600",types:[2],intro:"",progress:10,thumbnail:"thumb2.jpg",description:""},{id:2,title:"剩食問題",group:"一年孝班",startTime:"1746028800",endTime:"1753977600",types:[2],intro:"",progress:40,thumbnail:"thumb2.jpg",description:""},{id:3,title:"節約用水",group:"全校",startTime:"",endTime:"",types:[6],intro:"",progress:80,thumbnail:"thumb2.jpg",description:""},{id:4,title:"社區踏查",group:"",startTime:"",endTime:"",types:[2,3],intro:"",progress:50,thumbnail:"thumb2.jpg",description:""}],A={class:"pt-30 flex flex-col justify-center items-center gap-8"},F={class:"absolute z-10 left-50 top-30 flex flex-col text-2xl"},U={class:"flex flex-col gap-5"},$=["onClick"],E={class:"p-4 flex flex-col justify-center w-full"},K={class:"text-md mb-2"},M={class:"text-md mb-2"},O={class:"text-md mb-2"},q={class:"text-md mb-2"},G={class:"flex items-center w-70 gap-3"},H={class:"relative flex-1 bg-gray-200 rounded-full h-2 overflow-hidden"},J={class:"w-10 text-sm text-gray-700 text-left"},Q={class:"flex flex-wrap gap-2 mt-2"},R={class:"flex justify-center items-center gap-4 mt-8"},W=["disabled"],X=["disabled"],g=3,se={__name:"Actions",setup(Y){const n=p(0),d=p(""),o=p(1),y=t=>{n.value=t,o.value=1},w=t=>{d.value=t,o.value=1},x=m(()=>{let t=h;return n.value!==0&&(t=h.filter(s=>s.types.indexOf(n.value)!==-1)),d.value.trim()!==""&&(t=t.filter(s=>s.title.toLowerCase().includes(d.value.trim().toLowerCase()))),t}),u=m(()=>Math.ceil(x.value.length/g)),T=m(()=>{const t=(o.value-1)*g,s=t+g;return x.value.slice(t,s)}),k=()=>{o.value<u.value&&o.value++},C=()=>{o.value>1&&o.value--},j=t=>t<40?"bg-red-500":t<70?"bg-yellow-400":"bg-green-500",P=t=>{};return(t,s)=>{const D=V("router-link");return i(),r("main",A,[e("nav",F,[b(D,{to:"/",class:"bg-white rounded-md px-8 py-3"},{default:S(()=>[...s[0]||(s[0]=[f("回首頁",-1)])]),_:1})]),s[4]||(s[4]=e("h1",{class:"text-4xl font-bold"},"行動追蹤",-1)),b(I,{"onUpdate:visibilityTab":y,"onUpdate:keyword":w,class:"md:max-w-7xl md:mx-auto flex flex-row justify-between items-center w-full"}),e("section",U,[(i(!0),r(v,null,_(T.value,l=>(i(),r("div",{class:"cursor-pointer md:min-w-7xl md:mx-auto min-h-80 bg-white rounded-xl shadow-md overflow-hidden flex hover:scale-105",key:l.id,onClick:c=>P(l.id)},[s[3]||(s[3]=e("img",{src:"https://via.placeholder.com/150",alt:"Card Image",class:"w-1/3 object-cover"},null,-1)),e("summary",E,[e("h2",K,"主題："+a(l.title),1),e("p",M," 時間："+a(l.startTime.length?new Date(l.startTime*1e3).toLocaleDateString()+" ~ "+new Date(l.endTime*1e3).toLocaleDateString():"無"),1),e("p",O,"成員："+a(l.group),1),e("p",q,"描述："+a(l.intro),1),e("div",G,[s[1]||(s[1]=f(" 進度： ",-1)),e("div",H,[e("div",{class:B(["h-2 rounded-full transition-all duration-500",j(l.progress)]),style:z({width:l.progress+"%"})},null,6)]),e("span",J,a(l.progress)+"% ",1)]),e("div",Q,[(i(!0),r(v,null,_(l.types,c=>(i(),r("span",{key:c,class:"px-3 py-1 text-sm rounded-full bg-blue-100 text-blue-800"},a(N(L)[c].title),1))),128))]),s[2]||(s[2]=e("p",{class:"text-gray-600 text-sm text-right pe-15"},"更多",-1))])],8,$))),128))]),e("div",R,[e("button",{onClick:C,disabled:o.value===1,class:"px-4 py-2 bg-gray-300 rounded-md disabled:opacity-50"}," 上一頁 ",8,W),e("span",null,"第 "+a(o.value)+" / "+a(u.value)+" 頁",1),e("button",{onClick:k,disabled:o.value===u.value,class:"px-4 py-2 bg-gray-300 rounded-md disabled:opacity-50"}," 下一頁 ",8,X)])])}}};export{se as default};
