import{t as h}from"./SDGs_goal-D1XSLY4x.js";import{H as V}from"./HeaderTabs-D65Dc_fo.js";import{e as d,r as x,c as n,b as e,f as _,w as I,g as L,F as f,h as w,t as a,d as r,i as E,n as z,j as B,u as F}from"./index-KhGJz_Q8.js";const N="/SDG_campus_v2/assets/sdgs-bg-m_h1VVFS.jpg",u=[{id:1,title:"剩食問題",group:"一年忠班",startTime:"1746028800",endTime:"1753977600",types:[2],intro:"",progress:10,thumbnail:"thumb2.jpg",description:""},{id:2,title:"剩食問題",group:"一年孝班",startTime:"1746028800",endTime:"1753977600",types:[2],intro:"",progress:40,thumbnail:"thumb2.jpg",description:""},{id:3,title:"節約用水",group:"全校",startTime:"",endTime:"",types:[6],intro:"",progress:80,thumbnail:"thumb2.jpg",description:""},{id:4,title:"社區踏查",group:"",startTime:"",endTime:"",types:[2,3],intro:"",progress:50,thumbnail:"thumb2.jpg",description:""}],O={class:"pt-30 w-full shadow-md z-10 bg-header"},A={class:"container mx-auto flex items-center p-4"},H={class:"w-1/3"},U={class:"p-10 flex flex-col justify-center items-center gap-8 max-w-7xl md:mx-auto"},G={class:"flex flex-col gap-5 w-full px-4 md:px-0"},K=["onClick"],M={class:"p-6 md:p-15 flex flex-col justify-center w-full"},$={class:"text-md mb-2"},q={class:"text-md mb-2"},J={class:"text-md mb-2"},Q={class:"text-md mb-2"},R={class:"flex items-center w-full md:w-70 gap-3"},W={class:"relative flex-1 bg-gray-200 rounded-full h-2 overflow-hidden"},X={class:"w-10 text-sm text-gray-700 text-left"},Y={class:"flex flex-wrap gap-2 mt-2"},Z={class:"flex justify-center items-center gap-4 mt-8"},ee=["disabled"],te=["disabled"],v=3,ne={__name:"Actions",setup(se){const y=d(()=>{const t={};return h.forEach(s=>{t[s.value]=0}),u.forEach(s=>{s.types.forEach(i=>{t.hasOwnProperty(i)&&t[i]++})}),t.hasOwnProperty(0)&&(t[0]=u.length),t}),c=x(0),m=x(""),o=x(1),T=t=>{c.value=t,o.value=1},k=t=>{m.value=t,o.value=1},b=d(()=>{let t=u;return c.value!==0&&(t=u.filter(s=>s.types.indexOf(c.value)!==-1)),m.value.trim()!==""&&(t=t.filter(s=>s.title.toLowerCase().includes(m.value.trim().toLowerCase()))),t}),p=d(()=>Math.ceil(b.value.length/v)),j=d(()=>{const t=(o.value-1)*v,s=t+v;return b.value.slice(t,s)}),C=()=>{o.value<p.value&&o.value++},P=()=>{o.value>1&&o.value--},D=t=>t<40?"bg-red-500":t<70?"bg-yellow-400":"bg-green-500",S=t=>{};return(t,s)=>{const i=L("router-link");return r(),n(f,null,[e("header",O,[e("div",A,[e("div",H,[_(i,{to:"/",class:"back-home-btn"},{default:I(()=>[...s[0]||(s[0]=[e("span",{class:"text"},"回首頁",-1),e("span",{class:"icon"},"←",-1)])]),_:1})]),s[1]||(s[1]=e("div",{class:"w-1/3 text-center"},[e("h1",{class:"text-2xl md:text-3xl font-bold"},"行動追蹤")],-1)),s[2]||(s[2]=e("div",{class:"w-1/3"},null,-1))])]),e("main",U,[_(V,{"onUpdate:visibilityTab":T,"onUpdate:keyword":k,counts:y.value,class:"md:mx-auto flex flex-row justify-between items-center w-full"},null,8,["counts"]),e("section",G,[(r(!0),n(f,null,w(j.value,l=>(r(),n("div",{class:"animate-fade-in-up cursor-pointer w-full md:max-w-7xl md:mx-auto min-h-96 md:min-h-80 bg-white rounded-xl shadow-md overflow-hidden flex flex-col md:flex-row hover:scale-105",key:l.id,onClick:g=>S(l.id)},[s[5]||(s[5]=e("div",{class:"relative w-full h-64 md:h-auto md:w-1/2"},[e("img",{src:N,alt:"Card Image",class:"absolute inset-0 w-full h-full object-cover object-center"})],-1)),e("div",M,[e("h2",$,"主題："+a(l.title),1),e("p",q," 時間："+a(l.startTime.length?new Date(l.startTime*1e3).toLocaleDateString()+" ~ "+new Date(l.endTime*1e3).toLocaleDateString():"無"),1),e("p",J,"成員："+a(l.group),1),e("p",Q,"描述："+a(l.intro),1),e("div",R,[s[3]||(s[3]=E(" 進度： ",-1)),e("div",W,[e("div",{class:B(["h-2 rounded-full transition-all duration-500",D(l.progress)]),style:z({width:l.progress+"%"})},null,6)]),e("span",X,a(l.progress)+"% ",1)]),e("div",Y,[(r(!0),n(f,null,w(l.types,g=>(r(),n("span",{key:g,class:"px-3 py-1 text-sm rounded-full bg-blue-100 text-blue-800"},a(F(h)[g].title),1))),128))]),s[4]||(s[4]=e("p",{class:"text-gray-600 text-sm text-right"},"更多",-1))])],8,K))),128))]),e("div",Z,[e("button",{onClick:P,disabled:o.value===1,class:"px-4 py-2 bg-gray-300 rounded-md disabled:opacity-50"}," 上一頁 ",8,ee),e("span",null,"第 "+a(o.value)+" / "+a(p.value)+" 頁",1),e("button",{onClick:C,disabled:o.value===p.value,class:"px-4 py-2 bg-gray-300 rounded-md disabled:opacity-50"}," 下一頁 ",8,te)])])],64)}}};export{ne as default};
