import{r as d,h as c,c as u,b as s,d as x,w as P,e as j,f as I,F as T,i as S,t as l,k as V,g as m}from"./index-nh5eAeLI.js";import{i as v}from"./ChungShan-IxIyL9YM.js";import{_ as B}from"./HeaderTabs-Bl0daoVp.js";const L="/SDG_campus_v2/assets/story-bg-Cvn6PwaJ.webp",N={class:"pt-30 flex flex-col justify-center items-center gap-8"},D={class:"absolute z-10 left-50 top-30 flex flex-col text-2xl"},F={class:"grid grid-cols-1 md:grid-cols-3 md:gap-5"},U=["onClick"],$={class:"p-4 flex flex-col justify-center"},z={class:"text-xl font-bold mb-2"},E={class:"text-gray-600 text-sm"},G={class:"flex justify-center items-center gap-4 mt-8"},J=["disabled"],K=["disabled"],p=6,H={__name:"Story",setup(M){const n=d(0),i=d(""),o=d(1),g=e=>{n.value=e,o.value=1},_=e=>{i.value=e,o.value=1},f=c(()=>{let e=v;return n.value!==0&&(e=v.filter(t=>t.types.indexOf(n.value)!==-1)),i.value.trim()!==""&&(e=e.filter(t=>t.title.toLowerCase().includes(i.value.trim().toLowerCase()))),e}),r=c(()=>Math.ceil(f.value.length/p)),b=c(()=>{const e=(o.value-1)*p,t=e+p;return f.value.slice(e,t)}),y=()=>{o.value<r.value&&o.value++},h=()=>{o.value>1&&o.value--},w=V(),k=e=>{w.push({name:"story-detail",params:{id:e}})};return(e,t)=>{const C=I("router-link");return m(),u("main",N,[s("nav",D,[x(C,{to:"/sdgs",class:"bg-white rounded-md px-8 py-3"},{default:P(()=>[...t[0]||(t[0]=[j("回上頁",-1)])]),_:1})]),t[3]||(t[3]=s("h1",{class:"text-4xl font-bold"},"故事牆",-1)),x(B,{"onUpdate:visibilityTab":g,"onUpdate:keyword":_,class:"md:max-w-7xl md:mx-auto flex flex-row justify-between items-center w-full"}),s("section",F,[(m(!0),u(T,null,S(b.value,a=>(m(),u("div",{class:"animate-fade-in-up cursor-pointer md:w-md md:mx-auto min-h-80 bg-white rounded-xl shadow-md overflow-hidden flex flex-col gap-5 hover:scale-105",key:a.id,onClick:O=>k(a.id)},[t[2]||(t[2]=s("img",{src:L,alt:"Card Image",class:"h-45 object-cover"},null,-1)),s("summary",$,[s("h2",z,l(a.title),1),s("p",E,l(a.intro),1),t[1]||(t[1]=s("p",{class:"text-gray-600 text-sm text-right pe-3"},"更多",-1))])],8,U))),128))]),s("div",G,[s("button",{onClick:h,disabled:o.value===1,class:"px-4 py-2 bg-gray-300 rounded-md disabled:opacity-50"}," 上一頁 ",8,J),s("span",null,"第 "+l(o.value)+" / "+l(r.value)+" 頁",1),s("button",{onClick:y,disabled:o.value===r.value,class:"px-4 py-2 bg-gray-300 rounded-md disabled:opacity-50"}," 下一頁 ",8,K)])])}}};export{H as default};
