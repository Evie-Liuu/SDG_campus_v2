import{t as P}from"./ChungShan-IxIyL9YM.js";import{_ as S}from"./HeaderTabs-CtNofM8_.js";import{r as m,e as p,c as i,b as e,f as v,w as V,g as I,F as g,h as b,t as o,d as n,i as L,n as z,j as B,u as F}from"./index-B38kLtjR.js";const N="/SDG_campus_v2/assets/sdgs-bg-m_h1VVFS.jpg",_=[{id:1,title:"剩食問題",group:"一年忠班",startTime:"1746028800",endTime:"1753977600",types:[2],intro:"",progress:10,thumbnail:"thumb2.jpg",description:""},{id:2,title:"剩食問題",group:"一年孝班",startTime:"1746028800",endTime:"1753977600",types:[2],intro:"",progress:40,thumbnail:"thumb2.jpg",description:""},{id:3,title:"節約用水",group:"全校",startTime:"",endTime:"",types:[6],intro:"",progress:80,thumbnail:"thumb2.jpg",description:""},{id:4,title:"社區踏查",group:"",startTime:"",endTime:"",types:[2,3],intro:"",progress:50,thumbnail:"thumb2.jpg",description:""}],A={class:"pt-30 w-full shadow-md z-10"},U={class:"container mx-auto flex items-center p-4"},$={class:"w-1/3"},E={class:"p-10 flex flex-col justify-center items-center gap-8"},G={class:"flex flex-col gap-5 w-full px-4 md:px-0"},K=["onClick"],M={class:"p-6 md:p-15 flex flex-col justify-center w-full"},O={class:"text-md mb-2"},q={class:"text-md mb-2"},H={class:"text-md mb-2"},J={class:"text-md mb-2"},Q={class:"flex items-center w-full md:w-70 gap-3"},R={class:"relative flex-1 bg-gray-200 rounded-full h-2 overflow-hidden"},W={class:"w-10 text-sm text-gray-700 text-left"},X={class:"flex flex-wrap gap-2 mt-2"},Y={class:"flex justify-center items-center gap-4 mt-8"},Z=["disabled"],ee=["disabled"],x=3,oe={__name:"Actions",setup(te){const r=m(0),d=m(""),a=m(1),h=s=>{r.value=s,a.value=1},w=s=>{d.value=s,a.value=1},f=p(()=>{let s=_;return r.value!==0&&(s=_.filter(t=>t.types.indexOf(r.value)!==-1)),d.value.trim()!==""&&(s=s.filter(t=>t.title.toLowerCase().includes(d.value.trim().toLowerCase()))),s}),u=p(()=>Math.ceil(f.value.length/x)),y=p(()=>{const s=(a.value-1)*x,t=s+x;return f.value.slice(s,t)}),T=()=>{a.value<u.value&&a.value++},k=()=>{a.value>1&&a.value--},j=s=>s<40?"bg-red-500":s<70?"bg-yellow-400":"bg-green-500",C=s=>{};return(s,t)=>{const D=I("router-link");return n(),i(g,null,[e("header",A,[e("div",U,[e("div",$,[v(D,{to:"/",class:"back-home-btn"},{default:V(()=>[...t[0]||(t[0]=[e("span",{class:"text"},"回首頁",-1),e("span",{class:"icon"},"←",-1)])]),_:1})]),t[1]||(t[1]=e("div",{class:"w-1/3 text-center"},[e("h1",{class:"text-2xl font-bold"},"行動追蹤")],-1)),t[2]||(t[2]=e("div",{class:"w-1/3"},null,-1))])]),e("main",E,[v(S,{"onUpdate:visibilityTab":h,"onUpdate:keyword":w,class:"md:max-w-7xl md:mx-auto flex flex-row justify-between items-center w-full"}),e("section",G,[(n(!0),i(g,null,b(y.value,l=>(n(),i("div",{class:"animate-fade-in-up cursor-pointer w-full md:max-w-7xl md:mx-auto min-h-96 md:min-h-80 bg-white rounded-xl shadow-md overflow-hidden flex flex-col md:flex-row hover:scale-105",key:l.id,onClick:c=>C(l.id)},[t[5]||(t[5]=e("div",{class:"relative w-full h-64 md:h-auto md:w-1/2"},[e("img",{src:N,alt:"Card Image",class:"absolute inset-0 w-full h-full object-cover object-center"})],-1)),e("div",M,[e("h2",O,"主題："+o(l.title),1),e("p",q," 時間："+o(l.startTime.length?new Date(l.startTime*1e3).toLocaleDateString()+" ~ "+new Date(l.endTime*1e3).toLocaleDateString():"無"),1),e("p",H,"成員："+o(l.group),1),e("p",J,"描述："+o(l.intro),1),e("div",Q,[t[3]||(t[3]=L(" 進度： ",-1)),e("div",R,[e("div",{class:B(["h-2 rounded-full transition-all duration-500",j(l.progress)]),style:z({width:l.progress+"%"})},null,6)]),e("span",W,o(l.progress)+"% ",1)]),e("div",X,[(n(!0),i(g,null,b(l.types,c=>(n(),i("span",{key:c,class:"px-3 py-1 text-sm rounded-full bg-blue-100 text-blue-800"},o(F(P)[c].title),1))),128))]),t[4]||(t[4]=e("p",{class:"text-gray-600 text-sm text-right"},"更多",-1))])],8,K))),128))]),e("div",Y,[e("button",{onClick:k,disabled:a.value===1,class:"px-4 py-2 bg-gray-300 rounded-md disabled:opacity-50"}," 上一頁 ",8,Z),e("span",null,"第 "+o(a.value)+" / "+o(u.value)+" 頁",1),e("button",{onClick:T,disabled:a.value===u.value,class:"px-4 py-2 bg-gray-300 rounded-md disabled:opacity-50"}," 下一頁 ",8,ee)])])],64)}}};export{oe as default};
