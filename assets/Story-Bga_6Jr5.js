import{r as d,e as c,c as u,b as e,f,w as j,g as I,F as x,h as S,t as l,k as T,d as m}from"./index-B38kLtjR.js";import{i as _}from"./ChungShan-IxIyL9YM.js";import{_ as B}from"./HeaderTabs-CtNofM8_.js";const L="/SDG_campus_v2/assets/story-bg-Cvn6PwaJ.webp",V={class:"pt-30 w-full shadow-md z-10"},D={class:"container mx-auto flex items-center p-4"},F={class:"w-1/3"},N={class:"p-10 flex flex-col justify-center items-center gap-8"},U={class:"grid grid-cols-1 md:grid-cols-3 gap-5 p-4 md:p-0 md:gap-5"},$=["onClick"],z={class:"p-4 flex flex-col justify-center"},E={class:"text-xl font-bold mb-2"},G={class:"text-gray-600 text-sm"},J={class:"flex justify-center items-center gap-4 mt-8"},K=["disabled"],M=["disabled"],p=6,Q={__name:"Story",setup(O){const n=d(0),i=d(""),a=d(1),g=s=>{n.value=s,a.value=1},b=s=>{i.value=s,a.value=1},v=c(()=>{let s=_;return n.value!==0&&(s=_.filter(t=>t.types.indexOf(n.value)!==-1)),i.value.trim()!==""&&(s=s.filter(t=>t.title.toLowerCase().includes(i.value.trim().toLowerCase()))),s}),r=c(()=>Math.ceil(v.value.length/p)),y=c(()=>{const s=(a.value-1)*p,t=s+p;return v.value.slice(s,t)}),w=()=>{a.value<r.value&&a.value++},h=()=>{a.value>1&&a.value--},k=T(),C=s=>{k.push({name:"story-detail",params:{id:s}})};return(s,t)=>{const P=I("router-link");return m(),u(x,null,[e("header",V,[e("div",D,[e("div",F,[f(P,{to:"/sdgs",class:"back-home-btn"},{default:j(()=>[...t[0]||(t[0]=[e("span",{class:"text"},"回上頁",-1),e("span",{class:"icon"},"←",-1)])]),_:1})]),t[1]||(t[1]=e("div",{class:"w-1/3 text-center"},[e("h1",{class:"text-2xl font-bold"},"故事牆")],-1)),t[2]||(t[2]=e("div",{class:"w-1/3"},null,-1))])]),e("main",N,[f(B,{"onUpdate:visibilityTab":g,"onUpdate:keyword":b,class:"md:max-w-7xl md:mx-auto flex flex-row justify-between items-center w-full"}),e("section",U,[(m(!0),u(x,null,S(y.value,o=>(m(),u("div",{class:"animate-fade-in-up cursor-pointer w-full md:mx-auto min-h-80 bg-white rounded-xl shadow-md overflow-hidden flex flex-col gap-5 hover:scale-105",key:o.id,onClick:R=>C(o.id)},[t[4]||(t[4]=e("img",{src:L,alt:"Card Image",class:"h-45 object-cover"},null,-1)),e("div",z,[e("h2",E,l(o.title),1),e("p",G,l(o.intro),1),t[3]||(t[3]=e("p",{class:"text-gray-600 text-sm text-right pe-3"},"更多",-1))])],8,$))),128))]),e("div",J,[e("button",{onClick:h,disabled:a.value===1,class:"px-4 py-2 bg-gray-300 rounded-md disabled:opacity-50"}," 上一頁 ",8,K),e("span",null,"第 "+l(a.value)+" / "+l(r.value)+" 頁",1),e("button",{onClick:w,disabled:a.value===r.value,class:"px-4 py-2 bg-gray-300 rounded-md disabled:opacity-50"}," 下一頁 ",8,M)])])],64)}}};export{Q as default};
