import{r as d,h as c,c as u,b as s,d as x,w as P,e as j,f as I,F as T,i as V,t as l,k as B,g as m}from"./index-CMmspAnA.js";import{i as v}from"./ChungShan-AvXeID_a.js";import{_ as L}from"./HeaderTabs-BNv00evp.js";const N={class:"pt-30 flex flex-col justify-center items-center gap-8"},S={class:"absolute z-10 left-50 top-30 flex flex-col text-2xl"},F={class:"grid grid-cols-1 md:grid-cols-3 md:gap-5"},U=["onClick"],$={class:"p-4 flex flex-col justify-center"},z={class:"text-xl font-bold mb-2"},D={class:"text-gray-600 text-sm"},E={class:"flex justify-center items-center gap-4 mt-8"},K=["disabled"],M=["disabled"],p=6,J={__name:"Story",setup(R){const n=d(0),r=d(""),o=d(1),g=e=>{n.value=e,o.value=1},y=e=>{r.value=e,o.value=1},f=c(()=>{let e=v;return n.value!==0&&(e=v.filter(t=>t.type*1===n.value)),r.value.trim()!==""&&(e=e.filter(t=>t.title.toLowerCase().includes(r.value.trim().toLowerCase()))),e}),i=c(()=>Math.ceil(f.value.length/p)),_=c(()=>{const e=(o.value-1)*p,t=e+p;return f.value.slice(e,t)}),b=()=>{o.value<i.value&&o.value++},h=()=>{o.value>1&&o.value--},w=B(),k=e=>{w.push({name:"story-detail",params:{id:e}})};return(e,t)=>{const C=I("router-link");return m(),u("main",N,[s("nav",S,[x(C,{to:"/sdgs",class:"bg-white rounded-md px-8 py-3"},{default:P(()=>[...t[0]||(t[0]=[j("回上頁",-1)])]),_:1})]),t[3]||(t[3]=s("h1",{class:"text-4xl font-bold"},"故事牆",-1)),x(L,{"onUpdate:visibilityTab":g,"onUpdate:keyword":y,class:"md:max-w-7xl md:mx-auto flex flex-row justify-between items-center w-full"}),s("section",F,[(m(!0),u(T,null,V(_.value,a=>(m(),u("div",{class:"cursor-pointer md:w-md md:mx-auto min-h-80 bg-white rounded-xl shadow-md overflow-hidden flex flex-col gap-5 hover:scale-105",key:a.id,onClick:q=>k(a.id)},[t[2]||(t[2]=s("img",{src:"https://via.placeholder.com/150",alt:"Card Image",class:"h-45 object-cover"},null,-1)),s("summary",$,[s("h2",z,l(a.title),1),s("p",D,l(a.summary),1),t[1]||(t[1]=s("p",{class:"text-gray-600 text-sm"},"更多",-1))])],8,U))),128))]),s("div",E,[s("button",{onClick:h,disabled:o.value===1,class:"px-4 py-2 bg-gray-300 rounded-md disabled:opacity-50"}," 上一頁 ",8,K),s("span",null,"第 "+l(o.value)+" / "+l(i.value)+" 頁",1),s("button",{onClick:b,disabled:o.value===i.value,class:"px-4 py-2 bg-gray-300 rounded-md disabled:opacity-50"}," 下一頁 ",8,M)])])}}};export{J as default};
